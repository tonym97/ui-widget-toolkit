!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define("UWT",["d3"],e):"object"==typeof exports?exports.UWT=e(require("d3")):t.UWT=e(t.d3)}(window,function(t){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=341)}({1:function(t,e,i){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function a(t){return function(e,i){return r(t(e),i)}}function n(t){return t||(t=r),1===t.length&&(t=a(t)),{left:function(e,i,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var n=r+a>>>1;t(e[n],i)<0?r=n+1:a=n}return r},right:function(e,i,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var n=r+a>>>1;t(e[n],i)>0?a=n:r=n+1}return r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionName=function(t){return"number"==typeof t?"n"+t:t?(t.length>0&&!isNaN(Number(t[0]))&&(t="z"+t),t=t.replace(/[\*\%\#\[\]\/\>\<\s\+\(\)\;\@\:\?\"=.,]/g,"-")):""},e.detectIE=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)},e.useIEPolyfill=function(t){try{new CustomEvent("test")}catch(i){var e=function(e,i){i=i||{bubbles:!1,cancelable:!1};var r=document.createEvent("MouseEvent");return r.initMouseEvent(e,i.bubbles,i.cancelable,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r};e.prototype=Event.prototype,t.MouseEvent=e}},e.removeFromList=function(t,e){if(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},e.bisect=n,e.bucketData=function(t,e,i){for(var r=n().right,a=[],o=0;o<e.length-1;++o)a[o]=[];var u=e[0],s=e[e.length-1],c=e.slice(1);for(o=0;o<t.length;++o){var l=i(t[o]);l<u||l>s||a[r(c,l)].push(t[o])}var d={};for(o=0;o<e.length-1;++o)d[e[o]+"-"+e[o+1]]=a[o];return d},e.copy=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.merge=function(t,e){for(var i in e)t[i]=e[i]},e.convertTraceToTrees=function(t){for(var e=[],i=[],r=[],a=0;a<t.length;a++){for(var n=t[a],o=i[i.length-1];i.length&&n.x>o.x+o.dx;)--i.length,--r.length,o=i[i.length-1];var u=r[r.length-1],s={key:n.key,value:n.dx,children:[],parent:u};n.name&&(s.name=n.name),u?u.children.push(s):e.push(s),i.push(n),r.push(s)}return e};var o=function(){function t(t){this._data=t||[]}return t.prototype.push=function(t){this._data.push(t)},t.prototype.get=function(t){return this._data[t]},t.prototype.length=function(){return this._data.length},t.prototype.getData=function(){return this._data},t}();e.SimpleBuffer=o;var u=function(){function t(t){this._data=new Array(t),this._startIdx=0,this._count=0,this._isRotating=!1}return t.prototype.push=function(t){this._isRotating?(this._data[this._startIdx]=t,++this._startIdx,this._startIdx===this._count&&(this._startIdx=0),this._isRotating=!0):this._count===this._data.length-1?(this._data[this._count]=t,++this._count,this._isRotating=!0):(this._data[this._count]=t,++this._count)},t.prototype.get=function(t){return this._isRotating&&(t+=this._startIdx)>=this._count&&(t-=this._count),this._data[t]},t.prototype.length=function(){return this._count},t.prototype.getData=function(){if(this._isRotating){for(var t=[],e=this._startIdx;e<this._data.length;++e)t.push(this._data[e]);for(e=0;e<this._startIdx;++e)t.push(this._data[e]);return t}return this._data},t}();e.RingBuffer=u,e.bisectBuffer=function(t){return t||(t=r),1===t.length&&(t=a(t)),{left:function(e,i,r,a){for(null==r&&(r=0),null==a&&(a=e.length());r<a;){var n=r+a>>>1;t(e.get(n),i)<0?r=n+1:a=n}return r},right:function(e,i,r,a){for(null==r&&(r=0),null==a&&(a=e.length());r<a;){var n=r+a>>>1;t(e.get(n),i)>0?a=n:r=n+1}return r}}},e.transposeKeys=function(t){var e={};function i(t,r,a,n){for(var o=[],u=0;u<r.length;++u)o[u]=r[u];if(o.push(a.key),Array.isArray(a.data))for(u=0;u<a.data.length;++u)i(t,o,a.data[u],n+1);else for(var s=t,c=o.length-1;c>=0;--c){var l=o[c],d=void 0;e.hasOwnProperty(l)?d=e[l]:(d=s.length,e[l]=d),s[d]||(s[d]={key:l,data:[]}),0===c?s[d].data=a.data:s=s[d].data}}for(var r=[],a=0;a<t.length;++a)i(r,[],t[a],0);return r},e.runFunctionOnLeaf=function t(e,i){if(e&&e.children&&e.children.length>0)for(var r=0;r<e.children.length;++r)t(e.children[r],i);else i(e)}},24:function(t,e,i){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=i(63),o=i(1);e.findFirstInsertionIdx=o.bisectBuffer(function(t){return t.x}).left,e.findLastInsertionIdx=o.bisectBuffer(function(t){return t.x}).right;var u=function(){function t(){this._name="Simple Unimplemented Decimator"}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return this._key},t.prototype.getName=function(){return this._name},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,r){if(this._decimatedValues=[],0===r.length())return this._decimatedValues;var a,n=e.findFirstInsertionIdx(r,t),o=e.findLastInsertionIdx(r,i);n>0&&--n,o<r.length()&&++o,a=t?Math.floor(this._xValueToCoord(t)):Math.floor(this._xValueToCoord(r.get(n).x));for(var u=n,s=n;s<o;++s){var c=r.get(s),l=Math.floor(this._xValueToCoord(c.x)),d=s;(d===o-1||l!==a&&(void 0===i||c.x<i&&c.x>t))&&(this._decimatedValues=this._decimatedValues.concat(this._customFunc(r,u,d,this._yValueToCoord,this._xValueToCoord,this._xCoordToValue(a),this._xCoordToValue(l))),a=l,u=d)}return this._decimatedValues},t}();e.CustomPointXYDecimator=u;var s=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Min",i._customFunc=function(t,e,i,r){if(t.length()>0&&e!==i){for(var a=Number.MAX_VALUE,n=void 0,o=e;o<i;++o){var u=t.get(o),s=u.y;s<a&&(n=u,a=s)}return[n]}return[]},i}return a(e,t),e.KEY="MinPointDecimator",e}(u);function c(t,e,i,r){if(t.length()>0&&e!==i){for(var a=0,o=e;o<i;++o){a+=t.get(o).y}return[new n.XYValue(t.get(i-1).x,a/(i-e))]}return[]}e.MinPointDecimator=s;var l=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Avg",i._customFunc=c,i}return a(e,t),e.KEY="AvgPointDecimator",e}(u);e.AvgPointDecimator=l;var d=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Max",i._customFunc=function(t,e,i,r){if(t.length()>0&&e!==i){for(var a=-Number.MAX_VALUE,n=void 0,o=e;o<i;++o){var u=t.get(o),s=u.y;s>a&&(n=u,a=s)}return[n]}return[]},i}return a(e,t),e.KEY="MaxPointDecimator",e}(u);e.MaxPointDecimator=d;var h=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="XYPointDecimator",i._customFunc=function(t,e,i,r){for(var a={},n=[],o=e;o<i;++o){var u=t.get(o),s=Math.floor(r(u.y));a.hasOwnProperty(s.toString())||(n.push(u),a[s]=!0)}return n},i}return a(e,t),e.KEY="XYPointDecimator",e}(u);e.XYPointDecimator=h;var f=function(){function t(){this._name="Simple Unimplemented Decimator"}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return this._key},t.prototype.getName=function(){return this._name},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,r){if(this._decimatedValues=[],0===r.length())return this._decimatedValues;var a,n,o=e.findFirstInsertionIdx(r,t),u=e.findLastInsertionIdx(r,i);o>0&&--o,u<r.length()&&++u,o<r.length()&&(a=Math.floor(this._xValueToCoord(r.get(o).x)),--a),n=t?this._xValueToCoord(t):o;for(var s=o,c=o;c<u;++c){var l=r.get(c),d=Math.floor(this._xValueToCoord(l.x)),h=c+1;d!==a&&(this._decimatedValues=this._decimatedValues.concat(this._customFunc(r,s,h,this._yValueToCoord,this._xValueToCoord,this._xCoordToValue(n),this._xCoordToValue(d))),n=d,a=d,s=h)}return s!==r.length()&&(this._decimatedValues=this._decimatedValues.concat(this._customFunc(r,s,s+1,this._yValueToCoord,this._xValueToCoord,this._xCoordToValue(n),Number.MAX_VALUE))),this._decimatedValues},t}();e.CustomContinuousXYDecimator=f;var m=function(t){function e(){var i=t.call(this)||this;return i._key=e.KEY,i._name="Avg",i._customFunc=c,i}return a(e,t),e.KEY="AvgContinuousDecimator",e}(f);function p(t,i,r,a,n,o){var u=[],s=[],c=Math.ceil(t(Number.MAX_VALUE));if(!(c<0)){for(var l=[],d=0;d<=c+1;++d)l.push(i(d));for(var h=0;h<o.length;++h){var f=o[h],m=void 0,p=void 0,_=e.findFirstInsertionIdx(o[h],a),x=e.findLastInsertionIdx(o[h],n);_>0&&--_,x===f.length()&&--x,s[h]=Array.apply(null,Array(c)).map(Number.prototype.valueOf,0);for(var y=_;y<x;++y){m=f.get(y),p=f.get(y+1);var v=Math.floor(t(m.x)),V=Math.floor(t(p.x)),g=p.x-m.x,T=0===g?0:p.y/g;if(v===V)if(void 0===a||m.x>a&&p.x<n)s[h][v]+=T;else{var C=1/(l[v+1]-l[v]);p.x<n?s[h][v]+=(p.x-l[v])*T*C:s[h][v]+=(l[v+1]-m.x)*T*C}else{C=1/(l[v+1]-l[v]);var M=a?Math.max(a,m.x):m.x,b=l[v+1];s[h][v]+=(b-M)*T*C;for(var k=v+1;k<V;++k)s[h][k]+=T;C=1/(l[V]-l[V-1]);var A=n?Math.min(n,p.x):p.x,E=l[V];s[h][V]+=(A-E)*T*C}}u[h]=[];var D=s[h];for(d=0;d<D.length;++d)u[h][d]={x:l[d],y:s[h][d]}}return u}}e.AvgContinuousDecimator=m,e.sumMultiXYSeriesValues=p;var _=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,e,i){return this._decimatedValues=p(this._xValueToCoord,this._xCoordToValue,this._yValueToCoord,t,e,i),this._decimatedValues},t.KEY="SummedValueMultiXYSeriesDecimator",t}();e.SummedValueMultiXYSeriesDecimator=_;var x=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.getKey=function(){return e.KEY},e.prototype.getName=function(){return""},e.prototype.decimateValues=function(t,e,i){this._decimatedValues=p(this._xValueToCoord,this._xCoordToValue,this._yValueToCoord,t,e,i);for(var r=0;r<this._decimatedValues[0].length;++r){for(var a=0,n=0;n<this._decimatedValues.length;++n)this._decimatedValues[n][r].y&&(a+=this._decimatedValues[n][r].y);if(a>0){var o=100/a;for(n=0;n<i.length;++n)this._decimatedValues[n][r].y&&(this._decimatedValues[n][r].y=this._decimatedValues[n][r].y*o)}}return this._decimatedValues},e.KEY="ResidencyDecimator",e}(_);e.ResidencyDecimator=x;var y=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,e,i){return this._decimatedValues=p(this._xValueToCoord,this._xCoordToValue,this._yValueToCoord,t,e,[i])[0],this._decimatedValues},t.KEY="SummedValueXYSeriesDecimator",t}();e.SummedValueXYSeriesDecimator=y;var v=function(t){function e(){var e=t.call(this,void 0,void 0,void 0,void 0,void 0)||this;return e._bucketPts=0,e}return a(e,t),e}(n.CandlestickValue);e.NEWSDecimationValue=v;var V=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return this._key},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._buckets},t.prototype._dumpBucket=function(t,e,i){var r="valuesInBucket = "+i.toFixed(0)+", ";return r+="([avg]Time delta, avgValue) = ("+(e.x-t).toFixed(2)+", "+e.y.toFixed(2)+"), ",r+="(entry, min, max, exit) = ("+e.entry.toFixed(2)+", "+e.min.toFixed(2)+", "+e.max.toFixed(2)+", "+e.exit.toFixed(2)+")"},t.prototype.decimateValues=function(t,e,i){throw"Error need to implement decimate code"},t}();e.NEWSBaseDecimator=V;var g=function(t){function i(){var e=t.call(this)||this;return e._key=i.KEY,e}return a(i,t),i.prototype.createNewBucket=function(t,e){t.entry=e.y,t.exit=e.y,t.min=e.y,t.max=e.y,t.x=0,t.y=0,t._bucketPts=0,this.addToBucket(t,e)},i.prototype.addToBucket=function(t,e){t.x+=e.x,t.y+=e.y,t.min=Math.min(t.min,e.y),t.max=Math.max(t.max,e.y),t.exit=e.y,t._bucketPts++},i.prototype.finalizeBucket=function(t,e){void 0!==e&&e!==t._bucketPts&&console.log("AverageTime: mismatching pt calculation"),0===t._bucketPts&&console.log("AverageTime: 0 points"),t.x=t.x/t._bucketPts,t.y=t.y/t._bucketPts},i.prototype.decimateValues=function(t,i,r){if(this._buckets=[],0===r.length())return this._buckets;var a,n=e.findFirstInsertionIdx(r,t),o=e.findLastInsertionIdx(r,i);n>0&&--n,o<r.length()&&++o;var u=0;n<r.length()&&(u=Math.floor(this._xValueToCoord(r.get(n).x)),--u);for(var s=n;s<o;++s){var c=r.get(s),l=Math.floor(this._xValueToCoord(c.x));l!==u?(a&&(this.finalizeBucket(a),this._buckets.push(a)),a=new v,this.createNewBucket(a,c),u=l):this.addToBucket(a,c)}return a&&(this.finalizeBucket(a),this._buckets.push(a)),this._buckets},i.KEY="NEWSPointDecimator",i}(V);e.NEWSPointDecimator=g;var T=function(t){function i(e){var r=t.call(this)||this;return r._weightedSums={},r._prevX=0,r._prevX=0,r._key=i.KEY,e&&(r._states=e),r}return a(i,t),i.prototype.createNewBucket=function(t,e){var i;this._weightedSums={},t._bucketPts=0,this._isYObject||(i=e.y,t.y=i,t.entry=i,t.exit=i,t.min=i,t.max=i),this.addToBucket(t,e)},i.prototype.addToStateValueToBucket=function(t,e){0!==e&&(this._weightedSums[t]||(this._weightedSums[t]=0),this._weightedSums[t]+=e)},i.prototype.addToBucket=function(t,e){if(this._isYObject)if(this._states)for(var i in e.y)this.addToStateValueToBucket(this._states[i],(e.x-this._prevX)*e.y[i]);else for(var r in e.y)this.addToStateValueToBucket(r,(e.x-this._prevX)*e.y[r]);else{r=void 0;r=this._states?this._states[e.y]:e.y,t.exit=r,this.addToStateValueToBucket(r,e.x-this._prevX)}t.x+=e.x,t._bucketPts++,this._prevX=e.x},i.prototype.finalizeBucket=function(t,e){var i;void 0!==e&&e!==t._bucketPts&&console.log("AverageTime: mismatching pt calculation"),0===t._bucketPts&&console.log("AverageTime: 0 points"),t.x=t.x/t._bucketPts;var r=-Number.MAX_VALUE,a=-Number.MAX_VALUE,n=Number.MAX_VALUE;for(var o in this._weightedSums){if(void 0!==this._weightedSums[o]){var u=this._weightedSums[o];u>r&&(i=o,r=u)}var s=this._yValueToCoord(o);s>a&&(t.min=o,a=s),s<n&&(t.max=o,n=s)}void 0!==i?t.y=i:this._isYObject||(t.min=t.y,t.max=t.y)},i.prototype.decimateValues=function(t,i,r){if(this._buckets=[],0===r.length())return this._buckets;var a,n=e.findFirstInsertionIdx(r,t),o=e.findLastInsertionIdx(r,i);n>0&&--n,o<r.length()&&++o;var u=0;n<r.length()&&(this._isYObject="object"==typeof r.get(n).y,u=Math.floor(this._xValueToCoord(r.get(n).x)),--u);for(var s=n;s<o;++s){var c=r.get(s),l=Math.floor(this._xValueToCoord(c.x));if(l!==u){if(a&&(this.finalizeBucket(a),this._buckets.push(a)),u+1<l){var d=new v;this.createNewBucket(d,c),this.finalizeBucket(d),d.x=this._xCoordToValue(l-1),this._buckets.push(d),this._prevX=d.x}a=new v,this.createNewBucket(a,c),u=l}else this.addToBucket(a,c)}return a&&(this.finalizeBucket(a),this._buckets.push(a)),this._buckets},i.KEY="NEWSStateDecimator",i}(V);e.NEWSStateDecimator=T;var C=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._data=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._data},t.prototype.setRectLimit=function(t){return this._rectLimit=t,this},t.prototype.decimateValues=function(t,e,i){return this._data=i.getData(),this._rectLimit&&(this._data.sort(function(t,e){return t.traceValue.dx>e.traceValue.dx?-1:t.traceValue.dx<e.traceValue.dx?1:0}),this._data=this._data.splice(0,this._rectLimit)),this._data},t.KEY="FlameChartRectLimitDecimator",t}();e.FlameChartRectLimitDecimator=C;var M=function(){function t(){this._minRectDelta=1}return t.prototype.initialize=function(t,e,i){this._data=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._data},t.prototype.setPixelWidth=function(t){return this._minRectDelta=t-1,this},t.prototype.mergeRects=function(t){for(var e=t.length,i=[],r=[],a=[],n=0;n<e;n++){var o=t[n];r.length<o.depth&&(r.length=o.depth,a.length=o.depth);var u=r[o.depth];if(u&&u.traceValue.key===o.traceValue.key&&u.traceValue.x+u.traceValue.dx===o.traceValue.x)u.traceValue.dx+=o.traceValue.dx;else{for(var s=t[n].traceValue.x,c={},l=[];n<e;++n){if(o=t[n],l.push(o.traceValue),r.length<=o.depth){r.length=o.depth+1,a.length=o.depth+1;break}if(Math.round(this._xValueToCoord(o.traceValue.x+o.traceValue.dx))>a[o.depth]+this._minRectDelta)break;c.hasOwnProperty[o.traceValue.name]||(c[o.traceValue.name]=0),c[o.traceValue.name]+=o.traceValue.dx,u=o}var d=void 0;if(0===Object.keys(c).length)d={traceValue:{x:o.traceValue.x,dx:o.traceValue.dx,key:o.traceValue.key,name:o.traceValue.name,desc:o.traceValue.desc},decimatedValues:l,depth:o.depth};else{var h=void 0,f=0;for(var m in c){var p=c[m];p>f&&(h=m,f=p)}d={traceValue:{x:s,dx:u.traceValue.x+u.traceValue.dx-s,key:"merged",name:h,desc:u.traceValue.desc},decimatedValues:l,depth:o.depth},--n}i.push(d);var _=Math.round(this._xValueToCoord(d.traceValue.x+d.traceValue.dx));r[o.depth]=d,a[o.depth]=_}}return i},t.prototype.decimateValues=function(t,e,i){var r=i.getData();if(void 0!==t&&void 0!==e){for(var a=[],n=0;n<r.length;++n){var o=r[n];o.traceValue.x+o.traceValue.dx>t&&o.traceValue.x<e&&a.push(o)}this._data=this.mergeRects(a)}else this._data=this.mergeRects(r);return this._data},t.KEY="FlameChartMergeRectDecimator",t}();e.FlameChartMergeRectDecimator=M;var b=function(){function t(){}return t.prototype.initialize=function(t,e,i,r){this._decimatedValues=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i,this._states=r},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,r){this._decimatedValues=new Array(this._states.length).fill(0).map(function(){return new Array});var a=Math.ceil(this._xValueToCoord(Number.MAX_VALUE));if(!(a<0)){var n,o,u={},s={};this._states.forEach(function(t,e){s[t]=e,u[t]=Array.apply(null,Array(a)).map(Number.prototype.valueOf,0)});var c=e.findFirstInsertionIdx(r,t),l=e.findLastInsertionIdx(r,i);c>0&&--c,l===r.length()&&--l;for(var d=[],h=0;h<=a;++h)d.push(this._xCoordToValue(h));for(var f=1/(d[1]-d[0]),m=c;m<l;++m){o=(n=r.get(m)).x+n.dx;var p=Math.floor(this._xValueToCoord(n.x)),_=Math.floor(this._xValueToCoord(o));if(p===_)u[n.name][p]+=n.dx*f;else{var x=t?Math.max(t,n.x):n.x,y=d[p+1];u[n.name][p]=(y-x)*f;for(var v=p+1;v<_-1;++v)u[n.name][v]+=1;var V=i?Math.min(i,o):o,g=d[_];u[n.name][_-1]=(V-g)*f}}var T=[];for(h=0;h<a;++h)T[h]={x:d[h],y:0};for(var C=0;C<this._states.length;++C){var M=u[this._states[C]];if(M)for(h=0;h<M.length;++h)this._decimatedValues[C][h]={x:d[h],y:100*u[this._states[C]][h]};else this._decimatedValues[C]=T}return this._decimatedValues}},t.KEY="TraceResidencyDecimator",t}();e.TraceResidencyDecimator=b;var k=function(){function t(){}return t.prototype.initialize=function(t,e,i,r){this._decimatedValues=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i,this._states=r},t.prototype.getKey=function(){return b.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,r){var a=this,n=Math.ceil(this._xValueToCoord(Number.MAX_VALUE));if(!(n<0)){var o,u,s=e.findFirstInsertionIdx(r,t),c=e.findLastInsertionIdx(r,i);s>0&&--s,c===r.length()&&--c;for(var l=[],d=0;d<=n;++d)l.push(this._xCoordToValue(d));this._decimatedValues=Array.apply(null,Array(n)).map(function(){return new v});var h={};this._states.forEach(function(t,e){h[t]=e});for(var f=s;f<c;++f){u=(o=r.get(f)).x+o.dx;var m=Math.floor(this._xValueToCoord(o.x)),p=Math.floor(this._xValueToCoord(u));if(this._decimatedValues[m].entry||(this._decimatedValues[m].x=l[m],this._decimatedValues[m].entry=h[o.name],this._decimatedValues[m].exit=h[o.name],this._decimatedValues[m].min=h[o.name],this._decimatedValues[m].max=h[o.name]),m===p)this._decimatedValues[m].exit=h[o.name],this._decimatedValues[m].min=Math.min(this._decimatedValues[m].min,h[o.name]),this._decimatedValues[m].max=Math.max(this._decimatedValues[m].max,h[o.name]);else if(this._decimatedValues[m].exit=h[o.name],this._decimatedValues[m].min=Math.min(this._decimatedValues[m].min,h[o.name]),this._decimatedValues[m].max=Math.max(this._decimatedValues[m].max,h[o.name]),p!==n)for(var _=m+1;_<=p;++_)this._decimatedValues[_].x=l[_],this._decimatedValues[_].entry=h[o.name],this._decimatedValues[_].exit=h[o.name],this._decimatedValues[_].min=h[o.name],this._decimatedValues[_].max=h[o.name]}return this._decimatedValues.forEach(function(t){t.entry=a._states[t.entry],t.exit=a._states[t.exit],t.min=a._states[t.min],t.max=a._states[t.max]}),this._decimatedValues}},t.KEY="TraceStateDecimator",t}();e.TraceStateDecimator=k;var A=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._data=[],this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return t.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._data},t.prototype.mergeMarkers=function(t){var e=this,i=[],r=-Number.MAX_VALUE;return t.forEach(function(t){var a=e._xValueToCoord(t.x);a!==r&&(i.push(t),r=a)}),i},t.prototype.decimateValues=function(t,e,i){var r=i.getData();if(void 0!==t&&void 0!==e){var a=[];r.forEach(function(i){i.x<e&&i.x>t?a.push(i):i.dx&&i.x+i.dx<e&&i.x+i.dx>t&&a.push(i)}),this._data=this.mergeMarkers(a)}else this._data=this.mergeMarkers(r);return this._data},t.KEY="SimpleMarkerDecimator",t}();e.SimpleMarkerDecimator=A;var E=function(){function t(){}return t.prototype.initialize=function(t,e,i){this._xValueToCoord=t,this._xCoordToValue=e,this._yValueToCoord=i},t.prototype.getKey=function(){return _.KEY},t.prototype.getName=function(){return""},t.prototype.getValues=function(){return this._decimatedValues},t.prototype.decimateValues=function(t,i,r){this._decimatedValues=[];var a=[],n=Math.ceil(this._xValueToCoord(Number.MAX_VALUE));if(!(n<0)){for(var o=[],u=0;u<=n+1;++u)o.push(this._xCoordToValue(u));for(var s=0;s<r.length;++s){var c=r[s],l=void 0,d=void 0,h=e.findFirstInsertionIdx(r[s],t),f=e.findLastInsertionIdx(r[s],i);h>0&&--h,f===c.length()&&--f,a[s]=Array.apply(null,Array(n)).map(Number.prototype.valueOf,0);for(var m=h;m<f;++m){l=c.get(m),d=c.get(m+1);var p=Math.floor(this._xValueToCoord(l.x)),_=Math.floor(this._xValueToCoord(d.x)),x=d.x-l.x,y=0===x?0:d.y/x;if(p===_)if(void 0===t||l.x>t&&d.x<i)a[s][p]+=y;else{var v=1/(o[p+1]-o[p]);d.x<i?a[s][p]+=(d.x-o[p])*y*v:a[s][p]+=(o[p+1]-l.x)*y*v}else{v=1/(o[p+1]-o[p]);var V=t?Math.max(t,l.x):l.x,g=o[p+1];a[s][p]+=(g-V)*y*v;for(var T=p+1;T<_;++T)a[s][T]+=y;v=1/(o[_]-o[_-1]);var C=i?Math.min(i,d.x):d.x,M=o[_];a[s][_]+=(C-M)*y*v}}this._decimatedValues[s]=[];var b=a[s];for(u=0;u<b.length;++u)this._decimatedValues[s][u]={x:o[u],y:a[s][u]}}return this._decimatedValues}},t.KEY="SummedValueMultiXYSeriesDecimator",t}();e.XYHeatMapDecimator=E;var D=[new x,new s,new l,new d,new m,new M,new C,new g,new T,new A,new h,new y,new _,new b];e.InternalDecimatorMap={},D.forEach(function(t){e.InternalDecimatorMap[t.getKey()]=t})},3:function(e,i){e.exports=t},341:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),a=i(1),n=i(24),o=i(3),u=self;u.addEventListener("message",function(t){var e,i,s=t.data;s.xAxis.axisDesc.scaleType===r.AxisType.Ordinal?e=o.scaleBand().range([0,s.xRange]).padding(.1).align(.5).domain(s.xDomain):(s.xAxis.axisDesc.scaleType===r.AxisType.Linear?e=o.scaleLinear().domain(s.xDomain).clamp(!0):s.xAxis.axisDesc.scaleType===r.AxisType.Logarithmic&&(e=o.scaleLog().domain(s.xDomain).clamp(!0)),e.range([0,s.xRange])),s.yAxis&&(s.yAxis.axisDesc.scaleType===r.AxisType.Ordinal?i=o.scaleBand().range([0,s.yRange]).padding(.1).align(.5).domain(s.yDomain):(s.yAxis.axisDesc.scaleType===r.AxisType.Linear?i=o.scaleLinear().domain(s.yDomain).clamp(!0):s.yAxis.axisDesc.scaleType===r.AxisType.Logarithmic&&(i=o.scaleLog().domain(s.yDomain).clamp(!0)),i.range([s.yRange,0])));var c,l=n.InternalDecimatorMap[s.decimatorName];if(l.initialize(e,e.invert,i,s.names),s.names){c=[];for(var d=0;d<s.values.length;++d)c[d]=new a.SimpleBuffer(s.values[d])}else c=new a.SimpleBuffer(s.values);var h=l.decimateValues(s.xStart,s.xEnd,c);u.postMessage(h,void 0)})},63:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){this.x=t,this.y=e}}();e.XYValue=r;var a=function(){return function(t,e,i,r){this.x=t,this.min=e,this.max=i,this.y=r}}();e.MinMaxValue=a;var n=function(){return function(t,e,i,r,a){this.x=t,this.min=e,this.max=i,this.entry=r,this.exit=a}}();e.CandlestickValue=n;var o=function(){function t(t,e){void 0===e&&(e={}),this.key=t,this.data=e}return t.prototype.addValue=function(t,e){var i=this.data;return i.hasOwnProperty(t)?i[t]+=e:i[t]=e,this},t}();e.SummaryValue=o},9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Linear=0]="Linear",t[t.Logarithmic=1]="Logarithmic",t[t.Ordinal=2]="Ordinal"}(e.AxisType||(e.AxisType={})),function(t){t[t.Line=1]="Line",t[t.Area=2]="Area",t[t.Scatter=4]="Scatter",t[t.Bar=8]="Bar",t[t.Stacked=16]="Stacked",t[t.MinMaxValue=32]="MinMaxValue",t[t.FlameChart=64]="FlameChart",t[t.Marker=128]="Marker",t[t.DirectionalArrow=256]="DirectionalArrow",t[t.BoxPlot=512]="BoxPlot",t[t.HeatMap=1024]="HeatMap"}(e.RenderType||(e.RenderType={})),function(t){t[t.Linear=0]="Linear",t[t.StepBefore=1]="StepBefore",t[t.StepAfter=2]="StepAfter"}(e.InterpolateType||(e.InterpolateType={}))}})});